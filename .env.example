# =====================================================
# AUBRIGO - ENVIRONMENT VARIABLES
# =====================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to Git (only commit .env.example)

# --------------------- DATABASE ---------------------
# Local development (default PostgreSQL)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/aubrigo

# Production examples:
# Supabase: postgresql://postgres:[PASSWORD]@db.xxxxx.supabase.co:5432/postgres
# Railway: postgresql://postgres:[PASSWORD]@containers-us-west-1.railway.app:5432/railway
# Heroku: postgres://[USER]:[PASSWORD]@[HOST]:5432/[DATABASE]

# --------------------- AUTHENTICATION ----------------
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=change-this-to-a-random-32-character-string-for-security

# --------------------- SERVER ------------------------
NODE_ENV=development
PORT=3002

# --------------------- FRONTEND ----------------------
# Local development
FRONTEND_URL=http://localhost:4200

# Production (comma-separated if multiple domains)
# FRONTEND_URL=https://aubrigo.pt,https://www.aubrigo.pt

# --------------------- STRIPE PAYMENTS ---------------
# Get from: https://dashboard.stripe.com/test/apikeys

# Backend Secret Key (NEVER expose this!)
# Test: sk_test_51...
# Live: sk_live_51...
STRIPE_SECRET_KEY=sk_test_xxxxx

# Frontend Publishable Key (safe to expose)
# Test: pk_test_51...
# Live: pk_live_51...
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxx

# --------------------- STRIPE WEBHOOKS ----------------
# Create webhooks in Stripe Dashboard → Developers → Webhooks

# Endpoint 1: https://your-api.com/api/stripe-connect/webhook
# Events: account.updated, capability.updated, charge.succeeded, charge.failed, payout.paid, payout.failed
STRIPE_CONNECT_WEBHOOK_SECRET=whsec_xxxxx

# Endpoint 2: https://your-api.com/api/donations/webhook/stripe
# Events: payment_intent.succeeded, payment_intent.payment_failed, charge.refunded
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# --------------------- EMAIL SERVICE ------------------
# Required for sending emails (password reset, notifications, etc.)

# Email sender address
EMAIL_FROM=noreply@aubrigo.pt

# Admin email for notifications
ADMIN_EMAIL=admin@aubrigo.pt

# SMTP Configuration (Gmail, Outlook, SendGrid SMTP, etc.)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-specific-password

# For Gmail: Get app password from https://myaccount.google.com/apppasswords
# For SendGrid SMTP: smtp.sendgrid.net (port 587)
# For Outlook: smtp-mail.outlook.com (port 587)

# --------------------- RATE LIMITING ------------------
# Optional - backend has defaults if not provided

# Time window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Max requests per window (default: 300 in prod, 1000 in dev)
RATE_LIMIT_MAX=300

# Max auth attempts per window (default: 10 in prod, 100 in dev)
AUTH_RATE_LIMIT_MAX=10

# --------------------- OPTIONAL SERVICES --------------
# These are currently NOT REQUIRED but may be used in future

# Brazilian Payment Gateway (for Boleto - currently not implemented)
# BRAZIL_GATEWAY_PROVIDER=ebanx
# BRAZIL_GATEWAY_API_KEY=xxxxx
# BRAZIL_GATEWAY_API_URL=https://api.ebanx.com

# File Storage - AWS S3 (for pet images)
# AWS_ACCESS_KEY_ID=AKIAxxxxx
# AWS_SECRET_ACCESS_KEY=xxxxx
# AWS_S3_BUCKET=aubrigo-uploads
# AWS_REGION=eu-west-1

# OR Cloudinary (alternative to S3)
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=123456789
# CLOUDINARY_API_SECRET=xxxxx
