<div class="boleto-container">
  <div class="header">
    <div class="logo">
      <span class="icon">ğŸ§¾</span>
      <h2>Boleto BancÃ¡rio</h2>
    </div>
    <div class="amount">
      <span class="label">Valor:</span>
      <span class="value">{{ amount() | currencyFormat: 'BRL' }}</span>
    </div>
  </div>

  <div class="status-badge" [ngClass]="paymentStatus()">
    @switch (paymentStatus()) {
      @case ('pending') {
        <span class="icon">â³</span>
        <span>Aguardando pagamento</span>
      }
      @case ('succeeded') {
        <span class="icon">âœ…</span>
        <span>Pagamento confirmado!</span>
      }
      @case ('expired') {
        <span class="icon">â°</span>
        <span>Boleto expirado</span>
      }
    }
  </div>

  @if (paymentStatus() === 'pending' || paymentStatus() === 'processing') {
    <div class="barcode-section">
      <h3>CÃ³digo de barras</h3>
      <div class="barcode-container">
        <code class="barcode">{{ boletoBarcode() }}</code>
        <button class="copy-btn" [class.copied]="copied()" (click)="copyBarcode()">
          {{ copied() ? 'âœ“ Copiado!' : 'ğŸ“‹ Copiar' }}
        </button>
      </div>
    </div>

    @if (expiresAt()) {
      <div class="expiration">
        <span class="icon">ğŸ“…</span>
        <span>Vencimento: {{ expiresAt() | date:'dd/MM/yyyy' }}</span>
        <span class="timer">{{ timeRemaining() }}</span>
      </div>
    }

    <div class="actions">
      <button class="btn btn-primary" (click)="downloadBoleto()">
        <span class="icon">ğŸ’¾</span>
        Baixar Boleto
      </button>
      <button class="btn btn-secondary" (click)="printBoleto()">
        <span class="icon">ğŸ–¨ï¸</span>
        Imprimir
      </button>
    </div>

    <div class="instructions">
      <h4>Como pagar</h4>
      <ol>
        <li>Baixe o boleto clicando no botÃ£o acima</li>
        <li>Pague em qualquer banco, lotÃ©rica ou app bancÃ¡rio</li>
        <li>Use o cÃ³digo de barras para pagamento</li>
        <li>O pagamento pode levar atÃ© 3 dias Ãºteis para confirmar</li>
      </ol>
    </div>
  }

  @if (paymentStatus() === 'succeeded') {
    <div class="success-message">
      <div class="icon">ğŸ‰</div>
      <h3>Pagamento confirmado!</h3>
      <p>Obrigado pela sua doaÃ§Ã£o.</p>
    </div>
  }
</div>
